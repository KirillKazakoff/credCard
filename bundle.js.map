{"version":3,"file":"bundle.js","mappings":"07BAEqBA,EAAAA,WACjB,WAAYC,I,4FAAU,SAClBC,KAAKC,MAAL,EAAiBC,SAASC,cAAcJ,GAAUK,UAClDJ,KAAKK,WAAa,K,oDAGtB,SAAcC,GACNN,KAAKK,YACLL,KAAKK,WAAWE,UAAUC,OAAO,gBAErCR,KAAKK,WAAa,KAElB,IAAMI,EAAOT,KAAKC,MAAMS,MAAK,SAACC,GAAD,OAAOA,EAAEC,UAAUC,SAASP,MACrDG,IACAA,EAAKF,UAAUO,IAAI,gBACnBd,KAAKK,WAAaI,Q,6BAfTX,G,o9BCIAiB,EACjB,aAAc,Y,4FAAA,SACVf,KAAKgB,UAAYd,SAASC,cAAc,SACxCH,KAAKC,MAAQ,IAAIH,EAAM,eACvBE,KAAKiB,MAAQjB,KAAKgB,UAAUb,cAAc,oBAC1CH,KAAKkB,OAASlB,KAAKgB,UAAUb,cAAc,qBAE3CH,KAAKkB,OAAOC,iBAAiB,SAAS,WAClC,IAAQC,EAAU,EAAKH,MAAfG,MACFC,GAAaD,EAAMA,EAAME,OAAS,GAKpCC,EAAU,KACd,GCdL,SAAuBC,GAI1B,IAHA,IAAQF,EAAWE,EAAXF,OACJG,EAAM,EAEDC,EAAI,EAAGA,EAAIJ,EAAQI,GAAK,EAAG,CAChC,IAAIC,GAASH,EAAIE,GAGbA,EAAI,IAFQJ,EAAS,GAAK,IAG1BK,GAAS,GAGTA,EAAQ,IACRA,GAAS,GAGbF,GAAOE,EAGX,OAAO,GAAMF,EAAM,GDRQG,CADAR,EAAMS,UAAU,EAAGT,EAAME,OAAS,MAIlCD,EACfE,ECOT,SAAwBC,GAC3B,QAAwBA,EAAxB,GAAKM,EAAL,KAAaC,EAAb,KAEAA,GAAWA,EAEX,IAAIR,EAAU,GACd,OAJAO,GAAUA,GAKV,KAAK,EACDP,EAAU,MACV,MACJ,KAAK,EACe,IAAZQ,GAA6B,IAAZA,GAA6B,IAAZA,IAClCR,EAAU,gBAEE,IAAZQ,GAA6B,IAAZA,IACjBR,EAAU,OAEE,IAAZQ,GAA6B,IAAZA,IACjBR,EAAU,oBAEd,MACJ,KAAK,EACDA,EAAU,OACV,MACJ,KAAK,EACDA,EAAU,cACV,MACJ,KAAK,EACe,IAAZQ,IACAR,EAAU,YAOlB,OAAOA,ED3CeS,CAAeZ,OACtB,CACH,IAAMa,EAAM/B,SAASgC,cAAc,OACnCD,EAAIrB,UAAY,QAChBqB,EAAIE,YAAc,sBAClB,EAAKnB,UAAUoB,YAAYH,GAC3BI,YAAW,kBAAMJ,EAAIzB,WAAU,KAEnC,EAAKP,MAAMqC,cAAX,gBAAkCf,QE3B3B,ICAf,c,4FAAc,SACVvB,KAAKuC,KAAO,IAAIxB,I","sources":["webpack://yarn-cd/./src/app/components/card/cards.js","webpack://yarn-cd/./src/app/components/form/form.js","webpack://yarn-cd/./src/app/lib/utils.js","webpack://yarn-cd/./src/app/app.js","webpack://yarn-cd/./src/app/controller/controller.js"],"sourcesContent":["import './card.css';\n\nexport default class Cards {\n    constructor(selector) {\n        this.cards = [...document.querySelector(selector).children];\n        this.activeCard = null;\n    }\n\n    highlightCard(name) {\n        if (this.activeCard) {\n            this.activeCard.classList.remove('card__active');\n        }\n        this.activeCard = null;\n\n        const card = this.cards.find((c) => c.className.includes(name));\n        if (card) {\n            card.classList.add('card__active');\n            this.activeCard = card;\n        }\n    }\n}\n","import './form.css';\nimport '../card/card.css';\n\nimport Cards from '../card/cards';\nimport { getCheckDigit, getCardCompany } from '../../lib/utils';\n\nexport default class Form {\n    constructor() {\n        this.container = document.querySelector('.form');\n        this.cards = new Cards('.card__list');\n        this.input = this.container.querySelector('.validate__input');\n        this.button = this.container.querySelector('.validate__button');\n\n        this.button.addEventListener('click', () => {\n            const { value } = this.input;\n            const lastDigit = +value[value.length - 1];\n\n            const checkValue = value.substring(0, value.length - 1);\n            const checkDigit = getCheckDigit(checkValue);\n\n            let company = null;\n            if (checkDigit === lastDigit) {\n                company = getCardCompany(value);\n            } else {\n                const div = document.createElement('div');\n                div.className = 'error';\n                div.textContent = 'you put wrong value';\n                this.container.appendChild(div);\n                setTimeout(() => div.remove(), 1000);\n            }\n            this.cards.highlightCard(`card__${company}`);\n        });\n    }\n}\n","// eslint-disable-next-line import/prefer-default-export\nexport function getRandomInt(min, max) {\n    const minInt = Math.ceil(min);\n    const maxInt = Math.floor(max);\n    return Math.floor(Math.random() * (maxInt - minInt)) + minInt;\n}\n\nexport function getCheckDigit(str) {\n    const { length } = str;\n    let sum = 0;\n\n    for (let i = 0; i < length; i += 1) {\n        let digit = +str[i];\n        const parity = (length - 1) % 2;\n\n        if (i % 2 === parity) {\n            digit *= 2;\n        }\n\n        if (digit > 9) {\n            digit -= 9;\n        }\n\n        sum += digit;\n    }\n\n    return 10 - (sum % 10);\n}\n\nexport function getCardCompany(str) {\n    let [firstD, secondD] = str;\n    firstD = +firstD;\n    secondD = +secondD;\n\n    let company = '';\n    switch (firstD) {\n    case 2:\n        company = 'mir';\n        break;\n    case 3:\n        if (secondD === 0 || secondD === 6 || secondD === 8) {\n            company = 'dinners-club';\n        }\n        if (secondD === 1 || secondD === 5) {\n            company = 'jcb';\n        }\n        if (secondD === 4 || secondD === 7) {\n            company = 'american-express';\n        }\n        break;\n    case 4:\n        company = 'visa';\n        break;\n    case 5:\n        company = 'master-card';\n        break;\n    case 6:\n        if (secondD === 0) {\n            company = 'discover';\n        }\n        break;\n    default:\n        break;\n    }\n\n    return company;\n}\n","import '../css/defaultStyle.css';\nimport Controller from './controller/controller';\n\nconst controller = new Controller();\n","import Form from '../components/form/form';\n\nexport default class Controller {\n    constructor() {\n        this.form = new Form();\n    }\n}\n"],"names":["Cards","selector","this","cards","document","querySelector","children","activeCard","name","classList","remove","card","find","c","className","includes","add","Form","container","input","button","addEventListener","value","lastDigit","length","company","str","sum","i","digit","getCheckDigit","substring","firstD","secondD","getCardCompany","div","createElement","textContent","appendChild","setTimeout","highlightCard","form"],"sourceRoot":""}